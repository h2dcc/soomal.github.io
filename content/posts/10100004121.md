---
author: 农步祥
categories:
- Android
- 移动数码
- 智能手机
- 数码设备
- Windows
- 评论
cover:
  alt: ''
  caption: ''
  image: https://images.soomal.cc/images/doc/20130514/00030798.webp
  relative: false
date: '2013-06-15T12:31:21+08:00'
description: 源自：www.soomal.com | 版权：原创 |  平均/总评分：09.80/735
summary: 在Android系统和高通的音质改善的过程中，我们看到了一些的技术亮点，厂商使用了私有化驱动架构甚至独特的硬件体系，有如步步高vivo Xplay那样的独立硬件SRC芯片+高端DAC解码芯片+高端运放整合，也有HTC
  One那样简单增加D类耳放芯片提升驱动力的做法。
tags:
- Snapdragon
- Windows Phone 8
- 高通
- WCD9310
- 科普
- Soomal精华
title: 高通芯片组在Android系统音频架构下的发展和改进总结
---

在六七年前，智能手机还处于臃肿庞大的PocketPC阶段，而主流价位的功能型手机无论硬件性能或存储空间都十分有限，而MP3随身听市场正如日中天，消费者更愿意选择独立的随身听欣赏音乐。而随着iPhone和Android智能手机的兴起，手机有了更大的存储容量和更便捷的操作，随身听也随之被迅速淘汰，仅剩下苹果iPod和一些打酱油的高端产品。



![HP 惠普 iPAQ hw6515 智能手机 - 手写笔](https://images.soomal.cc/images/doc/20130316/00028602_01.webp)



![iPod Classic 与 iPod3](https://images.soomal.cc/images/doc/20110315/00009653_01.webp)



![高通Qualcomm 公司LOGO](https://images.soomal.cc/images/doc/20100705/00006259_01.webp)



自从我们开始关注智能手机和平板电脑起已近三年，这其中自然无法避免和目前移动应用最为广泛的高通芯片组有所接触。高通是目前最大的移动平台芯片组厂商，在用户量最大的Android系统智能手机中，使用高通芯片组的产品占了大部分，我们首次详细体验的智能手机，正是“高通+Android”组合的联想乐Phone。而微软Windows Phone [WP]系统的手机产品则为高通独占。高通的芯片组有着较好的兼容性和完善的驱动，处理器和图形单元的性能也处于领先水平。







智能手机彻底替代了便携式影音播放器，甚至还在进一步蚕食便携游戏机的市场份额，既然做为取代者，智能手机在娱乐应用使用上有着无与伦比的优势：硬件性能更好，处理速度更快，更易于操作，更方便分享和交流。那么随着半导体技术的飞速发展，电路集成度更高，智能手机的音频系统相对过去的随身听是否也理应有着技术和音质上的优势？遗憾的是，在iOS系统上，iPhone的音质表现确实不错，而且一直在进步，但Android的表现却并非如此。



![Meizu 魅族 M9 智能手机](https://images.soomal.cc/images/doc/20101220/00008794_01.webp)



![Meizu 魅族 M9 智能手机-48kHz频率扫描，录音端增益20dB](https://images.soomal.cc/images/doc/20101221/00008844_01.webp)



从2010年起，我们沿用了Soomal在耳机放大器、声卡和便携式播放器坚持使用的一套固定测试方法对手机的耳机输出能力进行客观测试和分析。尽管测试并不能体现一个系统的音质有多好，但却能发现和充分说明问题。我们在对魅族M9智能手机进行音质测试时，发现M9在48kHz采样下声音明显变差，而通过更多Android手机和平板电脑进测试和验证证明，Android系统存在强制单一采样率锁定的问题，出现了强制SRC现象。



![Apple 苹果 iPod Classic 三代 160GB - 频率扫描](https://images.soomal.cc/images/doc/20130302/00028080_01.webp)



这张音频测试信号的光频谱分析图在我们的手机音质测试中极为常见，它是我们在RMAA测试后的进一步补充，这是一个频响范围20-20kHz、时长为10秒的正弦波扫描图，而直线代表了信号的分布，越亮则表示信号强度越大，与之相对的是黑色的背景，颜色越深则表示底噪越低。频谱分析能直观地展示播放器对于信号还原程度。 iPod Classic三代在播放测试信号时的频谱分析图，我们可以看到除了主信号直线外，还有颜色不太明显的直线，它们是谐波，而在底部还存在频率很低的噪声。干扰是难以彻底避免的，我们以往测试过的音质较好的手机和随身听，基本上可以达到这样的还原水准。



![Lenovo 联想 乐Pad-背面](https://images.soomal.cc/images/doc/20110417/00010259_01.webp)



![Lenovo 联想 乐Pad-频率扫描](https://images.soomal.cc/images/doc/20110420/00010339_01.webp)



2011年，联想推出了乐Pad，这是一款使用高通QSD8650A芯片组的平板电脑，这款曾经号称要在大陆依靠本土化击败iPad的产品，其系统性能和稳定性都非常糟糕，即使在常用的44kHz采样下音质表现也非常差，我们当时本以为这只是个例，只是对这款失败的平板电脑产品设计和技术提出批评。但随着高通芯片组的产品的测试样本越来越对多，我们发现了这些使用高通处理器的手机产品均存在相似能量分布规律的噪声光谱纹理，它对音质影响较大，这样的问题从何而来？而我们在同时期的NVIDIA Tegra系列、AML和Boardcom博通等芯片组产品的测试中并不存在这样的现象。



![Qualcomm 高通芯片音频子系统频率扫描光谱图](https://images.soomal.cc/images/doc/20110701/00011815.webp)



这究竟是硬件问题或是系统固件的原因？为了进一步验证，我们找来一台HTC HD2，HD2采用高通QSD8250处理器，并且可以安装各种移动操作系统。通过安装Android、Windows Mobile、Windows Phone等不同操作系统进行测试，我们发现高通芯片组在常用的44kHz采样率从下确实普遍存在类似的高强度谐波，这说明高通芯片组在44kHz采样率下出现了强制SRC现象。



《HTC HD2智能手机于Android 2.3系统下音质测评报告 》[作者:赵宇为 ]
《HTC HD2智能手机 Windows Mobile 6.5和Windows Phone 7 音质测评报告 》[作者:赵宇为 ]



为什么高通的芯片组会出现44kHz的SRC问题？可能是高通的Codec设计遵循了AC97规范，硬件强制48kHz输出，也可能是高通为了提升高清视频下的音质体验[高清视频的音轨采样以48kHz为主]？无论目的如何，结果是明显的：目前主流音乐媒体文件常用的采样率依然是44kHz，这明显影响了高通芯片组在音乐播放时的音质。







但这还不是最糟糕的状况，由于Android系统采样率从锁定，当时包括高通、NVIDIA、三星等主流移动处理器芯片组在内的几乎所有的Android手机在48kHz采样率音频播放时都会得到一致的测试结果。但HD2在运行Windows Phone 7或Windows Mobile时却并未出现这一问题。



相关阅读
《Qualcomm 高通芯片组与Android音频系统缺陷测评分析 》[作者:赵宇为 ]

《聊聊Android的音频架构 》[作者:夏昆冈 ]

《声卡入门・2009版 聊聊SRC》[作者:夏昆冈 ]



在谷歌官方固件系统中，Android系统的多媒体音频仅支持单一采样率[44kHz或48kHz]，遇到非匹配的采样率，Android会进行采样率转换，也就是SRC操作。但从频谱测试图中可以明显看出，Android的重采样效果甚至远不如高通芯片组强制SRC的品质。在听44kHz采样率的音乐很糟糕，看视频时音质则更差。很显然，Android的SRC带来的音质影响要远比高通的问题更为严重。在当时而言，如果用户对手机音质稍有要求，“高通+Android”的组合需要尽量避免。



![Linux ALSA音频架构示意](https://images.soomal.cc/images/doc/20110523/00011015_01.webp)



![Android 2.3后的音频架构示意](https://images.soomal.cc/images/doc/20110524/00011017_01.webp)



Android SRC既然是系统音频架构的缺陷，那么谷歌是否会重视这个问题？自从我们提出Android SRC问题以来，每一次Android系统固件的版本升级，都会有部分用户乐观地认为谷歌已将SRC问题解决。我们自然也会加以关注，但随着每次版本的音质测试验证表明，从Android1.X直至4.X版本，SRC问题依旧存在，从Android 2.3起，谷歌修改了Android音频架构，ALSA等硬件驱动被剥离。



《Samsung 三星 Galaxy Nexus [i9250] 智能手机音质测评报告 》[作者:赵宇为 ]

《三星 Galaxy Nexus [i9250]智能手机Android 4.1系统下音质测评报告 》[作者:赵宇为 ]

《三星 Galaxy Nexus [i9250]智能手机Android 4.2系统下音质测评报告 》[作者:赵宇为 ]



尽管存在SRC问题，但Android是一个开源操作系统，这意味着任何人都能对其进行修改，在有实力的厂商手上自然可以成为展示其技术水平的机会，从技术角度上看，SRC需要完全避免，只需要和PC系统一样通过实时切换采样率即可，并不是什么无解的技术难题，厂商也逐渐开始重视。在我们测试了8个品牌52款手机之后，最终出现了解决SRC问题的产品。



出人意料的是，首个解决Android SRC的并非三星、索尼，摩托罗拉等手机传统大厂，也非高通、TI等移动芯片组方案商。步步高旗下的vivo品牌公布了VRS[vivo signal-Retrieval System]技术，vivo V1[使用高通处理器]和vivo Y1[使用联发科处理器]手机避免了一直以来音响音质的Android SRC问题[《步步高 vivo V1/Y1 智能手机音质测评报告 VRS[vivo signal-Retrieval System]技术测试》[作者:赵宇为 ]
]，这也是我们发现的首个实现了Android系统下采样率动态切换以避免SRC问题的厂商。



但是，vivo V1和Y1仅仅是低端手机，对市场影响力无足轻重。随后，大厂商的重量级产品也终于开始重视SRC问题，HTC在2012年发布了One X，采用NVIDIA Tegra 3处理器，进过我们的测试后发现，One X也解决了SRC问题，这也是首个解决SRC问题的手机大厂。随后，华为Ascend D1 XL[使用华为海思K3v2处理器]、三星Galaxy S3 i9300和魅族MX2[使用三星Exynos处理器]等各大厂商在新发布的高端手机中也陆续改善了Android SRC状况，尽管效果不一定完美，但SRC的影响已尽可能降低，音质有了明显进步，在这样的趋势下，高通难道依然对自己的产品缺陷无动于衷？



![MI2 小米2 智能手机](https://images.soomal.cc/images/doc/20121116/00024646_01.webp)



![MI2 小米2 智能手机-频响扫描](https://images.soomal.cc/images/doc/20121120/00024738_01.webp)



小米2是国内首个使用高通APQ8064四核处理器的手机产品，但它的音质表现却引起了我们的注意，它即没有Android SRC问题，在44kHz采样率下也没有高通芯片组以往特有的谐波。但我们无法确定，这个进步是小米，谷歌或者高通的修改？因此我们需要更多的测试样本进一步验证。



![LG E960 Google Nexus 4 智能手机 - 和三星Galaxy Nexus比较](https://images.soomal.cc/images/doc/20130321/00028806_01.webp)



之后，我们通过LG Nexus 4进行了一系列验证，它的硬件配置和小米2相同，同样使用了高通Snapdragon4的四核APQ8064处理器，Codec同为高通WCD9310。而且Nexus 4运行最新的Android 4.2系统，经测试，这款产品同样没有Android SRC问题，为了进一步验证解决Android SRC的是高通还是谷歌，我们在Nexus 7和Galaxy Nexus上也升级至最新的Android4.2固件进行测试，我们发现这两款非高通芯片组的“亲儿子”手机和平板在最新的系统固件上依然存在Android SRC问题。那么结果很明显，小米2和Nexus 4解决SRC问题是高通的改进。在随后的小米2S、索尼Xperia Z的测试中，它们都避免了Android SRC，也没有高通谐波的问题，至此我们可以确认，高通四核处理器芯片组的SRC问题是由高通解决的。



![MI2S 小米2S 智能手机](https://images.soomal.cc/images/doc/20130415/00029777_01.webp)



![SONY 索尼 Xperia Z L36h 智能手机-置于充电底座中](https://images.soomal.cc/images/doc/20130410/00029525_01.webp)



《MI2S 小米2S 智能手机音质测评报告 》[作者:农步祥 ]

《SONY 索尼 Xperia Z L36H智能手机音质测评报告 》[作者:农步祥 ]



是不是只有高端Android手机才能享受到更好的影音体验？去年底微软推出了Windows Phone 8系统，我们发现同样使用Snapdragon处理器的诺基亚Lumia系列智能手机和华为的W1。它们的音质表现和运行Windows Phone 7的HTC HD2表现基本一致，在44kHz下的高通谐波依然存在，解决高通SRC问题的产品似乎仅限于“高通四核+Android”的配置。基于NT核心的Windows Phone 8系统，其核心音频架构和桌面版Windows非常接近，理论会有着更好的音质表现，遗憾的是由于微软对于多媒体格式的限制过多，加上高通在WP8平台上的垄断，恐怕在短时间内难以得到改善，能在音质有所突破仍需时日。



相关文章



我们也开始关注一些低端的Android手机产品，通过测试MT6577的中兴V970和使用MT6589的V987等手机产品，甚至是数百元售价的山寨机，发现基于联发科芯片组的手机产品均没有Android SRC问题。联发科的Turnkey固件方案，使用了私有的音频驱动架构。索尼也终于跟上时代，近期推出的智能便携式播放器F805和旗舰手机Xperia Z也解决了Android SRC。至此，主流Android智能手机品牌和移动芯片组基本解决了SRC问题，音质问题已不再是Android手机的明显短板。







即使“高通+Android=音质悲剧”终结，也不意味着高通四核处理器芯片组的手机就是音质神器，除了各厂商之间存在差异外，我们还发现了一些共通的问题。它们频响曲线在高频都出现了抖动，44kHz和48kHz采样率下都存在这样的现象，这也许是配套的WCD9310 Codec存在问题，需要高通来改善。除此之外，WCD9310的耳机输出功率和电平太小，基本无法和摩托罗拉的OMAP+ST爱立信CPCAP Codec时代的手机产品甚至联发科的电源管理IC集成Codec相比。对于要求更高的消费者而言，高通显然做得还不够好。



相关文章



在解决了SRC问题之后，Android系统已具备做好声音的系统基础，对于有追求的手机厂商而言，这是一个更好展示自身技术实力的机会。首先行动的，是在Android手机音质大战中有所收获的步步高。步步高是首个将独立的DAC芯片和运放IC集成在手机中的厂商，甚至还有SRC芯片，尽管耗电量增加，HiFi模式续航仅10小时，但X1的音质给我们带来了很大的惊喜，在手机产品中属于顶级行列。在X1获得成功后，步步高将同样的技术放在使用高通Snapdragon 600处理器的vivo Xplay上，并使用了TI传统的高端运放OPA2604。尽管表现还不够完美，但足以位居高端手机音质的宝座。



![HTC One [802T] 智能手机 - 底部](https://images.soomal.cc/images/doc/20130518/00030959_01.webp)



体积较大，对工作电压要求很高的传统DAC芯片和运放IC，要整合进面积极其有限且干扰巨大的手机电路中，并非易事。而且解码芯片和高昂的价格成本和相对巨大的耗电量，对于厂商和普通用户而言不一定能接受，厂商更乐意用廉价的手段解决问题。苹果iOS设备是通过D类放大解决耳机输出驱动力的瓶颈。而HTC很好地借鉴了这点，在其今年的高端旗舰手机HTC One中也采用类似设计。同样是高通Snapdragon四核处理器+WCD9310的组合，HTC One的音质相比Nexus 4、Xperia Z、小米MI2S等手机要明显更好。尽管HTC One相比Xplay这样的产品还有差距，也足以满足大多数用户对的手机音质的需求。







总结



高通芯片组的SRC问题在44kHz，这无疑影响了最常用的音乐播放体验，但高通最终在在四核处理器架构上解决了[高通双核和低端芯片组待确认]，目前多数高端Android手机选择了高通四核处理器芯片组；而在低端智能手机市场，联发科占据了主流，两个最大的芯片厂商是Android智能手机的主流两个外加上HTC、华为、三星和索尼等厂商也在陆续改善，基本上主流Android手机产品都已解决SRC问题，这也意味着用户能拥有更好的影音体验，也为更高端的高清影音应用铺平了道路。但是，各厂商实现方式并不完全相同，意味着碎片化严重的Android系统面临更多音频应用开发兼容性风险，Android音频系统的问题应该由谷歌来提供一个统一和彻底的解决方案。







在Android系统和高通的音质改善的过程中，我们看到了一些的技术亮点，厂商使用了私有化驱动架构甚至独特的硬件体系，有如步步高vivo Xplay那样的独立硬件SRC芯片+高端DAC解码芯片+高端运放整合，也有HTC One那样简单增加D类耳放芯片提升驱动力的做法。还有索尼手机回归S-Master数字功放的传言。促进了手机产品的多样化和差异化，推进了音频技术的进步。由于步步高vivo X1、X1S等产品的畅销，极大带动了相关配套音频芯片的销量，对音频芯片产业带来了较大的影响，当然也促进了类似“HiFi音效”的纯忽悠宣传。在未来是否会出现硬件架构更复杂、音质更强的Android智能手机？在开源的Android平台，一切皆有可能。



![Qualcomm 高通 Snapdragon骁龙 600 处理器-功能示意图](https://images.soomal.cc/images/doc/20130411/00029531_01.webp)



![Qualcomm 高通 Snapdragon骁龙 800 处理器-功能示意图](https://images.soomal.cc/images/doc/20130411/00029532_01.webp)



在硬件架构日趋统一的同时，差异化竞争变成了更重要的砝码，除了音质外，拍照功能也是争夺用户极为激烈的领域，任何一款新手机产品即使不提音质，也少不了对摄像头的宣传。这对于高通来而言就是用户需求，高通的Snapdragon600处理器已经可以支持2100万像素的图像处理，而Snapdragon800更是达到惊人的4100万像素，而联发科最新的MT6589芯片组也提供了一套完善的数字图像处理方案，用户对多媒体应用的要求越来越高，Android手机的较量已经从单纯的处理器性能比拼，演变为全能争霸。
---
author: James Wu
categories:
- 技术
- 音频
cover:
  alt: ''
  caption: ''
  image: https://images.soomal.cc/doc/20090907/00002742.webp
  relative: false
date: '2009-09-08T00:06:30+08:00'
description: 异步时钟工作模式 | 传统同步时钟工作模式 | USB Audio Class | 源自：MUSILAND Audio Labs | 版权：投稿
  |  平均/总评分：08.46/93
summary: 为什么Monitor系列USB声卡能实现音质的巨大的进步？我们一直希望能从技术层面上有一个详尽的解释。受Soomal邀请，乐之邦的工程师给出了本篇文章，探讨了传统同步模式与新的异步时钟模式的特点。这篇文章是技术文章还是广告，您是否喜欢这样的文章？欢迎留言。我们希望其他厂商也能通过Soomal的这个平台来讲解各自的独门绝技。
tags:
- Musiland
- 乐之邦
title: 异步时钟工作模式让USB声卡突破音质瓶颈
---

编者按：为什么Monitor系列USB声卡能实现音质的巨大的进步？我们一直希望能从技术层面上有一个详尽的解释。受Soomal邀请，乐之邦的工程师给出了本篇文章，探讨了传统同步模式与新的异步时钟模式的特点。这篇文章是技术文章还是广告，您是否喜欢这样的文章？欢迎留言。我们希望其他厂商也能通过Soomal的这个平台来讲解各自的独门绝技。



传统同步时钟工作模式USB声音处理芯片的优缺点



传统USB声音处理芯片，都严格根据USB Audio Class协议规范去设计。



![USB Audio Class协议规范](https://images.soomal.cc/doc/20090907/00002741.webp)



这种设计的好处在于以下几个方面：



1、Windows基层驱动协议，不用使用独立的驱动，就可以正常工作，使用起来非常方便。
2、设计简单，由于是采用同步时钟，就是指文件数据传输的时钟和串行音频信号的时钟同步，所以最大传输时钟不需要大过音频时钟的MCLK。这样在时钟逻辑的处理上，相对简便的多。
3、制造工艺简单，由于串行音频运算所需要时钟的频率相对较小（对于两声道的文件，12MHz以下就能满足），所以，整个芯片的内部时钟频率要求非常低。这样无需采用特殊的芯片制造工艺。
4、由于1、2、3点而引来的成本上的降低是显而易见的。



而由于USB Audio Class的协议最早诞生于1998年，正好是AC97诞生的第二年。在哪个年代，如何降低个人电脑的价格和扩大普及性一直是所有IT厂商的关注焦点。这就导致技术人员在设计规范的时候，往往第一考虑的是如何让高技术用最低的成本实现。并且，那个年代的主流音频文件规范，还停留在48kHz下。众多的现实背景，让USB 
Audio Class协议也存在着下面的缺点：



1、底层驱动已经由Microsoft写好，包含在操作系统里面，所有厂商都要按照协议的标准去设计产品，严重禁锢了工程师的思想。要符合这个标准的产品，往往都具有清一色的相似性，缺乏个性。
2、最大的缺点是：同步工作模式，让音频文件实时从数据文件中编码出来，只要数据文件的传输稍微中断，或者传输时序稍不严格，会出现声音的中断或者音质恶化。这也是为什么传统USB 
Audio Class协议的USB声音处理芯片音质不好、稳定性不佳的最主要原因。
3、对于高清音频格式支持几乎残废。对于24/192，甚至将来32/192的音频文件，采用同步工作模式，在操作系统繁忙时，时序的不确定性（JITTER）将更明显。



这样的缺点，显然让传统的USB声音处理芯片在高清规格日益盛行的今天，显得落后与时代，不能满足发烧友们挑剔的需求。



异步时钟工作模式USB高清声音处理芯片的优缺点



为了突破USB声音处理芯片的音质瓶颈，工程师必须要打破常规思维，用独特的思维方式去设计产品，那就是……不支持USB 
Audio Class协议。



不支持USB Audio Class协议，那要支持什么呢？那就是自己的协议，至于叫什么，自己起个名字吧，可以叫“小强”，因为不是公开发行的，所以不能叫“协议”。我们暂且叫做“USB 
HD-Audio”技术。



“USB HD-Audio”技术的优势当然是“USB Audio Class”协议的劣势，设计优秀的产品需要具备如下优点：



1、不支持标准的USB Audio Class，不能使用Microsoft的标准驱动。驱动编写人员需要独立编写一套复杂的USB设备驱动，设计人员可以自由发挥，运用各种手段提高产品的人性化和功能、性能。
2、使用异步工作模式，数据传输使用远大于音频时钟的非同步时钟，比如说480MHz的时钟。串行音频编码使用第二个或者第三个时钟，比如说22.5792MHz时钟来对应44.1kHz、88.2kHz、176.4kHz的采样率，24.576MHz时钟来对应48kHz、96kHz、192kHz的采样率。
3、异步工作状态下，需要在芯片内部开辟一个大的缓冲区（异步Buff），来协调两个时钟之间的工作。使用传输时钟作为写时钟，音频时钟作为读时钟，来完成音频数据的编码。这样的设计，可以保证即便是CPU在短时间（时间的长短视异步BUF的大小）100%占有的情况下，声音也不中断，而且不会因为时序的不稳定（JITTER）而导致声音的恶化。
4、由于数据传输的速率非常大（USB2.0高速是480Mbps），即便是实现多声道24/192的次世代音频数据的播放，也是游刃有余。可以满足挑剔的发烧友的苛刻要求。



世界上的事情，绝无完美，有优点就会优缺点，“USB 
HD-Audio”技术也不例外：



1、驱动设计的复杂性，让软件工程师的工作量大增。。
2、时钟处理逻辑电路非常复杂，高速时钟需要芯片内部集成PLL或DLL等现代技术的时钟处理逻辑单元，而异步时钟之间的EMI干扰，也是芯片设计的难点。
3、芯片制造工艺复杂，由于PLL、DLL逻辑电路的存在，和高达480Mbps的串行I/O速率以及高速时钟，让芯片的制造工艺要求变得很特殊。而大容量的高速BUF的存在，让芯片的制造价格也非常的昂贵。
4、由1、2、3点所增加的研发、制造成本，让产品价格相对普通产品高出好多倍，不可能大规模的普及。



异步时钟工作模式USB高清声音处理芯片的实现



下面是使用可编程构架实现此“USB HD-Audio”技术的一种方法，使用CYPRESS 
CY68013A 可编程USB2.0高速控制器+ XILINX XC3S50A现场可编程门整列（FPGA）来实现：



![MUSILAND 乐之邦 Monitor 01 US USB声卡-电路板](https://images.soomal.cc/doc/20090429/00001645.webp)



1、CYPRESS CY68013A 可编程USB2.0高速控制器，支持真正的USB2.0 
高速传输，瞬时传输速率可达到480Mbps。配合操作系统驱动，可通过高速并行总线，与FPGA双向交换数据。



2、XILINX的通用现场可编程门阵列（FPGA），实现了很多复杂的功能



（1）与CYPRESS CY68013A的高速通讯。
（2）合成USB通讯所需要的高速时钟。
（3）合成44.1kHz、88.2kHz、176.4kHz三种采样率所需要的音频时钟。
（4）合成48kHz、96kHz、192kHz三种采样率所需要的音频时钟。
（5）构建高速异步数据缓冲器（高速BUF）。
（3）音频IIS数据编码、S/PDIF数据编码。



这样的构架，配合操作系统驱动可以实现24/192kHz高清音频的稳定播放。搭配高质量的D/A转换芯片的话，可以满足音频发烧友挑剔的需求。



![乐之邦 Musiland Audio Labs MU8660S 芯片组模块](https://images.soomal.cc/doc/20090907/00002742.webp)



目前，MUSILAND Audio Labs已经把这样的构架做成了芯片组模块，有三个型号：MU8660S、MU8660I、MU8661。供给第三方音响制造商或者科研机构，并提供对应的开发版MU8661EVM。
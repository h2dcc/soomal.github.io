---
author: 农步祥
categories:
- 移动数码
- 数码设备
- 技术
- 数码终端
cover:
  alt: ''
  caption: ''
  image: https://images.soomal.cc/doc/20120914/00022846.webp
  relative: false
date: '2012-09-14T03:01:41+08:00'
description: 源自：www.soomal.com | 版权：原创 |  平均/总评分：09.97/369
summary: 随着Android正在向平板电脑、高清播放器、智能电视等市场领域快速渗透，SRC问题会严重影响影音应用的体验。我们近年来一直关注Android的音质和SRC问题并呼吁厂商尽快解决，可最先重视和解决SRC的不是大厂商，而是步步高和联发科。在众多Android智能影音设备实际音质表现无法让人满意的时候，谁能让Android乌鸡变凤凰？
tags:
- 谷歌
- Android
- 联发科
- SRC
- 音频架构
- Google
title: 谈谈打造Android系统高水准音质影音播放器的可能性
---

![Android国内市场占有率](https://images.soomal.cc/doc/20120914/00022847.webp)



在iOS和Android智能手机市场爆发式发展时，用户发现使用手机听音乐时操作也更为直观便捷，当初拥有广泛市场的便携式播放器很快被智能手机所取代。Android系统智能设备在去年便占据了全球50%以上的市场份额，而网络上的资料显示，在中国这个数据超过了80%，而且终端数量依然在迅速增长。听音乐、看电影、玩游戏，音频相关应用也几乎成为智能手机最重要的娱乐应用。



既然智能手机在很大程度上取代了便携式播放器，那么理所当然其音质也应该更好，可在我们开始接触多款Andorid智能设备，发现真正能在音质上和优质随身听相比较的可以说寥寥无几。



![Meizu 魅族 M9 智能手机](https://images.soomal.cc/doc/20101220/00008796.webp)



![HTC HD2 手机](https://images.soomal.cc/doc/20110514/00010769.webp)



![Qualcomm 高通芯片音频子系统频率扫描光谱图](https://images.soomal.cc/doc/20110701/00011815.webp)



随后我们又在魅族M9智能手机的评测中发现了劣质SRC的现象，通常我们的音乐文件采样率都是44KHz，而高清视频的音频流多为48KHz，M9在播放48KHz采样率的音频流时，音质因此会出现明显的失真和恶化。这个现象引起了我们的关注，开始在智能设备产品中都加入了48KHz的采样率测试。累计的数据表明，这个现象并不是个例，几乎所有的Android智能设备都出现了SRC的问题，也说明了SRC来自于Android操作系统而不是硬件。而后我们还发现使用高通处理器的产品在44KHz采样下音质表现也很糟糕，经过多款产品的测评和验证，其原因是由于高通SoC音频输出还会硬件强制SRC到48KHz，声音失真已难以让人接受，基于高通芯片组的手机或平板电脑几乎都被钉上了“音质悲剧”的标签，“高通+Android=音质悲剧”也受到广泛的认可。那么Android系统的SRC从何而来？







Android SRC的发生和处理过程



![Linux ALSA音频架构示意](https://images.soomal.cc/doc/20110523/00011015.webp)



Android实质上是一个精简的Linux系统，在Android 2.2和更早期的版本，Android和Linux一样使用ALSA音频架构[Advanced Linux Sound Architecture 的缩写]，因为早期的ALSA并不支持采样率切换，在比较旧的Linux发行版，使用ALSA驱动的API播放音乐，如果音频流和硬件回放采样率不匹配，系统会拒绝播放……而且Android在系统底层音频API便预设固定了采样率。若在手机上出现如此不友好的“系统错误信息”，对于用户体验显然是大灾难，所以Android系统提供了一个非常简单的重采样插件API，当传入系统硬件操作层API的音频流采样率参数不匹配硬件回放的采样率时，便自动调用重采样插件进行SRC操作。虽然达到了采样率匹配的效果，但是算法非常简单粗暴，导致了音源严重的互调失真，这便是Android系统劣质SRC的大致工作流程。



![SRC示意](https://images.soomal.cc/doc/20100227/00004205.webp)



![Samsung 三星 Galaxy Nexus [i9250] 智能手机 Android 4.1-频率扫描@48kHz](https://images.soomal.cc/doc/20120703/00020836.webp)



目前Android正在向平板电脑、高清播放器、智能电视等市场领域快速渗透，SRC问题会严重影响影音应用的体验，那么Google是否重视并着手解决呢？随着每次Android系统的版本升级，都会有网友认为Google已经修正了这个系统问题。虽然愿望是美好的，可是我们测试发现，无论是4.0还是最新的4.1 Jelly Bean版本，SRC问题依然存在，为何操作系统的提供商Google没有去修正呢？



![Android 2.3后的音频架构示意](https://images.soomal.cc/doc/20110524/00011017.webp)



![Ainol 艾诺 NOVO7 极光版 平板电脑-Android4.0的ALSA版本信息](https://images.soomal.cc/doc/20120306/00017449.webp)



在Android2.3以后，ALSA看似被全新的HAL，也称为AudioFlinger的架构所取代，但是Google并没用提供现成的HAL和硬件操作的接口[混音器，硬件回放，内核驱动控制]等重要的功能和SoC驱动，但是新增了一个叫做TinyALSA可选插件作为底层API使用，大多数厂商还是选择使用了TinyALSA以兼容现有驱动资源。我们认为，Google这么做其实是把硬件API层从Android系统源码中剥离，不再做维护。这也意味着厂商和用户无法指望Google对Android SRC过程进行改善，只能通过厂商自身努力去改变。



![SONY 索尼 NWZ-Z1050 便携智能影音播放器-对比iPod touch、Galaxy S WLAN](https://images.soomal.cc/doc/20120816/00021955.webp)



那么设备厂商又是否开始重视这个问题并解决？经过我们的实际测试，三星的Galaxy S WLAN 4.0和被某些网友尊称为“神器”的索尼 Z1050便携式播放器依旧还是有SRC现象。而某些厂商甚至在智能高清平板电视中使用了高通的处理器……







经过我们的测评，目前音质表现较好的智能设备依然是苹果iOS系统的iPhone、iPad等产品，不仅模拟输出品质出色，也没有Android系统的SRC弊病。而摩托罗拉的Razr系列虽然在音乐回放上表现出色，却依然无法回避48KHz采样率SRC的问题。这也我们很难期待在中低价位Android智能设备的能有较好的音质表现，因此也出现了手机音质无所谓的消极观点，可实际上很多人在上下班路上还是在使用手机听音乐，做不到并非意味着就无需去努力做好，因此我们便重新开始评测一些市售的传统便携式影音播放器，并得到了不少人的关注。







那么连大厂商都无法解决的SRC问题，会一直存在下去？是否所有的Android智能设备都会强制采样率到44KHz呢？我们在评测一些基于Android系统的高清播放器和平板电脑时发现，这些机器在48KHz采样率下不会出现劣质SRC现象，但是在播放44KHz音频流时，则会强制重采样，和常见的Android智能手机表现相反。由此可见，Android音频系统的硬件采样率是可以随时调整改变的，那样我们还是看到了解决问题的希望。这个问题究竟能不能得到更彻底的解决，我们尝试从源码中寻求答案，理论上，只要实现采样率的动态切换，SRC就可以避免，这在技术上不是不可能实现。



![步步高 vivo V1 智能手机](https://images.soomal.cc/doc/20120331/00018309.webp)



![HTC One X [S720e]智能手机](https://images.soomal.cc/doc/20120515/00019631.webp)



我们近年来一直关注Android的音质和SRC问题并呼吁厂商尽快解决，终于引起了相关企业的重视。意外的是，最先解决SRC的并不是三星、摩托罗拉或索尼这样的知名品牌，也不是高通和德州仪器等芯片供应商巨头。今年初，步步高宣布了一项用于解决Android SRC问题的技术，被命名为VRS[vivo signal-Retrieval System]，经过我们的测评，使用了VRS技术的两款步步高vivo智能手机产品，能在44KHz和48KHz采样率间自动切换，可见SRC并不是一个无法解决的技术问题。很快大厂商也做出了响应，由于Sensation Z710[G14]的音质表现而受到我们批评的HTC，推出的最新的旗舰手机产品One X也没有SRC问题，HTC也是第一个解决Android SRC的手机大厂[由于样品有限，我们无法确认这个技术是否全面应用于HTC的所有手机型号]。



![ZTE 中兴 V970 智能手机](https://images.soomal.cc/doc/20120827/00022283.webp)



近期，我们测试发现基于联发科MT6577处理器的中兴V970也没有Android SRC现象，也是我们发现的第三个解决SRC问题的厂商。不过联发科在提供芯片组的同时还提供了现成的硬件驱动和系统固件（被称为Turnkey），这也是联发科一直以来成功的模式。那么解决问题的究竟是中兴还是联发科，甚至有人认为是Android4.0系统的功劳？这也引起了网友们的议论，为了进一步验证，我们找来了一台同样是联发科的MT6575芯片的山寨手机来测试，而且这款山寨手机运行的是Android2.3系统。



![ZOPO 卓普 ZP100 智能手机](https://images.soomal.cc/doc/20120408/00018580.webp)



![ZOPO ZP100智能手机-频响扫描@48KHz](https://images.soomal.cc/doc/20120914/00022849.webp)



![ZOPO ZP100智能手机-频响扫描](https://images.soomal.cc/doc/20120914/00022848.webp)



经过测试发现，这款山寨手机同样没有劣质SRC问题。我们认为山寨手机厂商不会有意识或精力去对Android的音频子系统进行改进，我们可以初步认定所有使用MT6575和MT6577芯片的手机都不会有Android SRC问题。芯片厂商提供现成的系统固件和驱动解决方案，显然更有广泛性和重要意义。联发科的产品一直以来美誉度不高，但是这次体现的技术实力，体现了联发科对于智能手机时代音频应用的重视还高于德仪和高通等芯片巨头，值得我们肯定。



![MediaTek 联发科 Logo 标志](https://images.soomal.cc/doc/20120408/00018578.webp)



虽然联发科解决了劣质SRC问题，但并不意味着基于MTK芯片的Android智能手机就是“音质神器”了，通过测评，基于MT6575和MT6577通用方案智能手机的音质水平并不算好，还无法和更出色的随身听和手机相比较。但是我们通过中兴V970的音频系统状态信息发现，MT6577还支持I2S输入输出功能，这也意味着只要MT6577的数字音频信号输出表现正常，厂商可以使用音质更好的Codec芯片甚至是高水准的独立DAC芯片极大提升手机的模拟输出音质，扭转Android在音频回放方面的弱势。虽然一直混迹于山寨机市场，但是联发科在智能设备处理器音质上的重视和技术上的展现使我们改变了对它的印象，而联发科的SoC如果发展应用于智能高清播放器和智能平板电视产品中，也会有音质上的优势。德州仪器的OMAP系列处理器，其数字音频输出的品质也较好，只是还需要解决SRC问题和外围芯片模拟输出品质的完善。反观高通其芯片组依然还存在着强制硬件SRC问题，对于重视音质的智能影音设备显然不是一个好的选择。







无论在系统还是硬件上，我们都看到了制造高水准音质的Android智能系统影音设备的希望。而Android基于开放源代码的Linux系统，对音频设备的支持非常的广泛，其硬件采样最高可支持到HD Audio级别的32bit192KHz，我们也希望联发科和德州仪器等企业能开发音频IO性能更强大的处理芯片实现真正的HD Audio支持，用户能通过Android智能播放器欣赏到SACD级别的高清音乐。让我们期待在技术实力强劲的公司手里，Android从乌鸡变凤凰的那一天。
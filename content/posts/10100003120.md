---
author: 夏昆冈
categories:
- 相机
- 影像
- 技术
cover:
  alt: ''
  caption: ''
  image: https://images.soomal.cc/images/doc/20120613/00020334.webp
  relative: false
date: '2012-06-14T10:18:12+08:00'
description: 反差式对焦 | 自动对焦 | 源自：www.soomal.com | 版权：原创 |  平均/总评分：08.96/224
summary: 反差式对焦在最近几年获得了重大的技术性突破，它已经实现了又快又准的对焦性能，而这种对焦方式是建立在相对低廉的物理成本之上，因此，它对相机行业的促进意义是非同一般的，我们有必要更加深入的了解一下。实现高性能，背后的开发工作非常巨大，是个系统工程，需要对感光器、图像处理器进行全面更新
tags:
- EVIL
- 微单
- 对焦
title: 反差式对焦浅析
---

反差式对焦在最近几年获得了重大的技术性突破，它已经实现了又快又准的对焦性能，而这种对焦方式是建立在相对低廉的物理成本之上，因此，它对相机行业的促进意义是非同一般的，我们有必要更加深入的了解一下。

反差式对焦的优点

物理成本低
利用感光器配合图像处理器完成，不是单独的子系统，不占用独立的空间
对焦精度高

对焦原理和过程
![反差式对焦示意图](https://images.soomal.cc/images/doc/20111231/00015887.webp)




国外有个关于反差式对焦的GIF演示动画，我们借用来并稍微整理了一下，通过这张图，可以了解到反差式对焦的基础原理。

![对焦点位置与被摄物体影像清晰度的简单关系](https://images.soomal.cc/images/doc/20120613/00020334.webp)




为了说明对焦点位置和影像清晰度的关系，我们又补充了一张图。使用F1-F8来表示8个不同的焦点位置与被摄物体影像清晰度的关系。

有了这两张图，我们就可以将反差式对焦大致过程简单描述：


驱动镜头，沿着指向被摄物的轴线改变对焦点，并在每个对焦点上获取影像，类似于逐点扫描
先将每一个焦点上获得的影像数字化，数字化后的影像实际是一个整数矩阵，这个概念我们在《数字图像入门》中提过多次了
求出图像的反差值，其实就是简单的数值比较运算，求最大值和最小值的值差。
将每一个焦点上得到的反差值进行比较，得到最大值
驱动镜头，将焦点放置于反差值最大的焦点上，即得到正确的焦点，即对焦完成

这其实就是一个非常简单的求最大值过程，没有什么秘密可言，用程序实现也是非常简单的事情，而且对处理器性能要求也不是很高，但为什么各家不同的反差式对焦性能差异那么大呢？

采样帧率
比较数据非常简单，但获得密集的数据源却不是那么简单。这需要感光器的直接支持。在众多相机厂商炫耀参数时，有一个参数很却总是遮遮掩掩不愿公开，那就是感光器的实时采样帧率。目前愿意公开该数据的只有松下，松下宣称，其感光器可以实现120FPS的采样帧率。这个120FPS不是指的它可以完成每秒120帧静态图像的拍摄，也不是指的其可以实现120FPS的视频拍摄，而是感光器将实时采样传给图像处理器的帧率，这些采样数据可以用于对焦、白平衡、测光等。

![Panasonic 松下 Lumix DMC-GX1 微型可换镜头数码相机](https://images.soomal.cc/images/doc/20120201/00016399.webp)




松下称GX1对焦速度为0.09秒，很简单的推算，即约11帧可以完成一次对焦，如果算法完全相同的情况下，而采样帧率只有60FPS，则对焦速度将降低为0.18秒，30FPS的话，对焦速度更慢至0.36秒，这就是采样帧率对对焦效率的影响。

镜头也对对焦产生重要影响，松下也提及了镜头的帧率，同样也是用FPS这个帧率单位表达，最新的镜头，可以实现120FPS的对焦性能，这是什么意思呢？其实是指的镜头的驱动频率，其完整的表达意思为，该镜头可以每秒钟被驱动120次，即焦点可以更改120次。只有镜头帧率大于等于感光器帧率时，感光器每一帧才能算得上是新的采样。

算法的影响
有了密集的高频率数据源，不等于对焦速度会有绝对的提升，还需要良好的算法支持，前些时候，索尼发布了NEX-5N的对焦性能升级固件，升级完成后，硬件还是那些硬件，但对焦速度在某些场景中确实变快了一点。这又是如何实现的呢？根源在算法。

反差式对焦的过程会对焦点进行一次甚至多次前后扫描，如果扫描点是沿着轴线均匀分布，那么对焦效率是最低的。还是用前面的图作为演示，该例中，使用了8帧得到了焦点。如果在F1时，发现反差值较低，直接跳过F2到F3，会侦测到反差值得到了迅速提高，此时再缩小“跳跃距离”进入到F4、F5，这样一来就节省了一帧，速度自然就加快了。当进入到F6、F7时，会发现反差值在下降，此时可以判断为已经越过正确的焦点，从而停止进入F8的动作，这样整个过程节省了2帧，速度可以提升25%。这就是算法对速度的影响。

当然，这只是纸上谈兵，实际应用中，情况会更复杂，但基本宗旨是，以最少的采样次数来完成对焦。本文只是举例强调算法对效率的影响。

步进马达的镜头
反差式对焦的过程中，会驱动镜头搜寻焦点，这种工作模式，使得基于步进马达的镜头大有用武之地。步进马达是利用脉冲信号来完成指令控制，其控制精度很理想。两者结合能产生一个比较令人满意的配合，目前大部分微单镜头是采用的步进马达驱动。

现状
反差式对焦的优点，很多厂商都看到了，尤其对成本的节省是有目共睹的，但真正实现高性能的对焦的厂商却屈指可数。实现高性能，背后的开发工作非常巨大，是个系统工程，需要对感光器、图像处理器进行全面更新，需要新的镜头设计，更需要优秀的算法的支持，优秀算法的形成也需要长期的积累，反差式对焦也就是在不久前才解决暗部对焦的速度问题。目前来说，大部分反差式对焦的相机机型还是存在对焦速度慢或暗部对焦性能下降的缺点。真正全面普及高性能的反差式对焦还需时日，一旦普及，行业生态或许就此改变。
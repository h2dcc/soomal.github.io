---
author: Soomal
categories:
- Android
- 技术
- 移动数码
- 智能手机
- 解码器
- 数码设备
- 音频
- 声卡
cover:
  alt: ''
  caption: ''
  image: https://images.soomal.cc/images/doc/20170915/00070221.webp
  relative: false
date: '2017-10-25T06:45:44+08:00'
description: 源自：www.soomal.com | 版权：原创 |  平均/总评分：08.85/115
summary: 许多Android5.X-7.X系统的手机、平板和机顶盒在连接USB2.0异步音频设备时，会将采样率锁定至192kHz，这就意味着在播放常用的44.1kHz采样的音乐时会出现SRC现象。但可以通过修改特定的系统配置文件选择Android系统在连接USB音频设备时的采样率。那么今天我们就来通过测试验证一下修改配置后是否有效。
tags:
- USB声卡
- SRC
title: USB声卡解码器连接Android手机时问题的出现和分析 修改USB音频设备采样率补充测试
---

《USB声卡解码器连接Android手机时问题的出现和分析[一] 乐之邦USB声卡和解码器连接的问题》[作者:Soomal ]

《USB声卡解码器连接Android手机时问题的出现和分析[二] 不同USB音频设备的测试和解析》[作者:Soomal ]

《USB声卡解码器连接Android手机时问题的出现和分析[三] 从Android源码找出采样率锁定的原因》[作者:农步祥 ]

《USB声卡解码器连接Android手机时问题的出现和分析[四] 最终分析和临时解决方案》[作者:农步祥 ]



![Musiland 乐之邦 Monitor 06 Plus USB声卡 - 连接小米Note Pro](https://images.soomal.cc/images/doc/20170907/00070067_01.webp)



![OPPO HA-2 便携式耳机放大器及解码器-捆一个绑](https://images.soomal.cc/images/doc/20151125/00056546_01.webp)



作为目前使用人数最多、设备应用最广泛的移动移动操作系统，音频应用必然是无法绕开的话题。虽然Android较早地支持UAC2.0[USB Audio Class]协议并提供了通用驱动，可以正常支持兼容UAC协议的USB声卡或解码器设备，专为手机设计便携式声卡解码器也是当前的市场潮流。



然而Soomal在实际使用和测试中发现，许多Android5.X-7.X系统的手机、平板和机顶盒在连接USB2.0异步音频设备时，会将采样率锁定至192kHz，这就意味着在播放常用的44.1kHz采样的音乐时会出现SRC现象。通过近一个月来对Android音频系统甚至是Android源代码的分析，我们也找到了Android系统对USB2.0声卡锁定192kHz的原因。



尽管这一现象是由Android音频系统源代码存在BUG导致，但想要短时间内让谷歌或手机厂商开发者进行修正是困难的，目前也只有OPPO R11等极少数机型在连接USB声卡时可自动切换采样率播放。但幸运的是，通过发挥主观能动性，我们找到了临时性的解决方案。在拥有root系统修改权限的前提下，可以通过修改特定的系统配置文件选择Android系统在连接USB音频设备时的初始化采样率。那么今天我们就来通过简单测试验证一下修改配置后是否有效，以及对第三方云音乐应用是否能以设定的采样率正常播放。



![Google Nexus 9上audio_policy.conf部分内容截图](https://images.soomal.cc/images/doc/20171013/00070814.webp)



具体来说，就是通过修改audio_policy.conf文件[通常在系统的/etc路径下]来指定连接USB声卡时的播放采样率。在测试中，我们将在已经解锁获得root权限的Nexus 9[Android7.0]下分别测试系统默认状态以及修改采样率配置为44.1kHz后对谷歌Play音乐、网易云音乐等使用Android标准音频接口的应用和海贝音乐播放44.1kHz采样率测试信号时的效果。
本次测试以乐之邦数字时代2的SPDIF同轴输出为参考，XMOS、Bravo、C-Media等其它兼容UAC的USB2.0异步音频方案的测试效果完全相同，这里不再重复列出。



| 测试项目 | Dyamic,Play音乐 | Dyamic,网易云 | 44100 | 海贝音乐 |
| --- | --- | --- | --- | --- |
| 噪声水平, dB (A): | -93.1 | -93.1 | -97.7 | -97.7 |
| 动态范围, dB (A): | 92.7 | 92.7 | 97.7 | 97.7 |
| 总谐波失真, %: | 0.0006 | 0.0006 | 0.0003 | 0.0003 |
| 互调失真, %: | 0.0061 | 0.0061 | 0.0036 | 0.0036 |
| 立体声分离度, dB: | -94.1 | -94.1 | -98.4 | -98.4 |



![采样率测试 - Play音乐[Dynamic]](https://images.soomal.cc/images/doc/20171025/00071048_01.webp)



![采样率测试 -网易云[Dynamic]](https://images.soomal.cc/images/doc/20171025/00071049_01.webp)



![采样率测试 -Play音乐[44100]](https://images.soomal.cc/images/doc/20171025/00071050_01.webp)



![采样率测试 -网易云音乐[44100]](https://images.soomal.cc/images/doc/20171025/00071051_01.webp)



在以往的各类Android手机音质测评中，Android SRC对音质的负面影响一直存在，但很难在同一硬件条件下进行对比。而在这次测试中，读者可以通过USB数字声卡输出信号这种近乎理想条件的理论测试成绩进行对比了。从测试结果可以看出，无论从RMAA测试成绩还是频响图来看，USB声卡在Android系统锁定192kHz采样率状态下，从数字信号的品质开始就有了很大的差距。Dynamic设置下的数字时代2测试成绩显然是极不正常的。当设为44100或直接使用海贝音乐时，理论测试表现就和Windows、iOS等平台表现一致了。



总结



虽然相对于电力充足的PC平台，USB声卡在连接手机时音质会略显不足，而不同操作系统UAC通用音频驱动的差异也会带来些许的声音差异。但可以看出，在所谓的“Dynamic”设置，实际采样率锁定在192kHz时，其Android SRC造成的音质劣化要远远大于供电、操作系统对USB声卡带来的影响。如果用户听过正常状态的数字时代2，那么在Android SRC+锁频192kHz状态下，其在动态、信噪比和整体声音控制力上的劣化已经很明显地体现在了RMAA成绩中，现在的USB2纯数字声卡能发出这种声音其实已经和坏掉没什么区别，但绝大多数对此有察觉用户会认为只是手机供电不给力造成的吧？



因此，这些麻烦对有音质需求的Android设备用户来说，应该是极力避免的，如果既对外接USB声卡提升手机音质有急切需求，又实在离不开网易云等使用Android标准音频接口的音乐应用，那么解决方法就只有购买一台OPPO R11或是自己动手“破解”手机系统了。虽然谷歌并不是没有尝试过改善，例如运行原生Android系统的三星手机或Pixel XL下，USB音频设备的连接状态和采样率设置确实产生了变化，但遗憾的是，即使采样率从锁定192变成96或48随机乱跳，也还远达不到用户USB音频周边应有的正常音质水平。因此，我们依旧建议用户通过向Google或手机厂商反馈来彻底解决这一问题。
---
author: 夏昆冈
categories:
- Android
- 技术
- 移动数码
- 智能手机
- iOS
- 数码设备
cover:
  alt: ''
  caption: ''
  image: https://images.soomal.cc/images/doc/20170615/00068445.webp
  relative: false
date: '2017-06-15T13:49:34+08:00'
description: 像素井 | FSI | 堆栈成像 | RGBW | BSI | 镜头矫正 | 源自：www.soomal.com | 版权：原创 |  平均/总评分：09.48/237
summary: 《学会看手机样张》可能写成一下小系列，我们计划从成像的一些量化和观感指标上去让大家学会分析样张，分析其画质、分析其背后可能用到的技术。我们尽可能用通俗易懂的方式描述，不知道反响如何，先来一篇有关细节的、之后可能还有HDR、防抖、EXIF相关的，以及实例解析。
tags:
- 科普
- 堆栈式
- 样张
title: 学会看手机样张 细节后面的技术魔鬼
---

《学会看手机样张》可能写成一下小系列，我们计划从成像的一些量化和观感指标上去让大家学会分析样张，分析其画质、分析其背后可能用到的技术。我们尽可能用通俗易懂的方式描述，不知道反响如何，先来一篇有关细节的、之后可能还有HDR、防抖、EXIF相关的，以及实例解析。

解析力、细节
解析力、细节是被法师们经常提起的，其实差不多就是一回事。解析力倾向于硬件能力的描述，而细节说的是看到的结果，其实想表达的意思都是“看起来真清楚”。解析力和细节与像素井结构设计有关，与像素密度有关，也与感光器分辨率有关，除此之外，还和镜头的光学素质有关。还和软件有关。

像素井的镜子
![iPhone 6s 所采用的感光器的像素井改良设计](https://images.soomal.cc/images/doc/20151111/00056233.webp)




iPhone 6s 发布之时，提到了改进的像素井结构，它在像素井之间插入了“镜子”，让光线不再斜射到隔壁的像素井，这样让光线实现了更精准的捕捉，降低了像素井之间相互的影响，它对提高成像的细节是有帮助的。这个技术其实不是苹果首发，而是三星，三星在自家ISOCELL感光器上使用了F-DTI[Front-Side Deep-Trench Isolation 前侧深槽隔离]及VTG[Vertical Transfer Gate垂直传输]技术，其实就是一回事。

FSI、BSI和堆栈式
![前照式[FBI]感光器结构](https://images.soomal.cc/images/doc/20130817/00034669.webp)




![前照式[FSI]和背照式[BSI]感光器结构差异](https://images.soomal.cc/images/doc/20130817/00034668.webp)




![背照式和堆栈式感光器的结构区别](https://images.soomal.cc/images/doc/20130605/00031803.webp)




古老的的感光器的感光单元结构，它从上至下的层分布为微透镜、色彩滤镜、金属连接层、基板的受光面。这种结构叫做前照式[FSI,Frontside illumination]。前照式受光面位于像素井井底，光线入射角度较大时，受光效率会降低，处于感光器边缘的像素井会受光不足，容易出现暗角。改良的结构是背照式[BSI, Backside illumination]，它将金属连接层放置到受光面下方，这样像素井变浅，能接受更大角度的入射光线。它的好处是不只是受光效率的提升，它还更好的支持了大光圈镜头，因为暗角和边缘成像都获得了改善。

堆栈式[Stacked]是背照式的一种衍生结构，它受光面中占用面积的电路基板放置于受光面下方，在像素井面积没增加的情况下，受光面积获得提升。堆栈式对高密度像素的感光器成像质量的改进是相当明显的，它已经成为当前手机感光器的技术主流。相机用感光器像素井结构也在逐渐在普及这些技术。

RGBW
![感光器的拜耳阵列](https://images.soomal.cc/images/doc/20150620/00052484.webp)




传统的感光器子像素结构是RGGB，即红绿绿蓝四个子像素构成。在子像素上层有个色彩滤镜，滤镜实际上是会影响透光率的。所以出现了RGBW结构，用一个白色的子像素替代绿色的子像素，理论上，白色的子像素可以更好的感知光学的明暗变化。另外还有OmniVision的RGBC，其实和RGBW是一个意思。三星也搞过更激进的RWB，即用白色子像素完全取代绿色。

缺失的绿色怎么处理？靠软件猜色还原，早期的算法有问题，这种感光器的成像虽然看上去噪点确实少一些，但色彩看上去怪怪的，现在情况有了改变，RGBW在色彩表现上已经和正常设计没什么太大区别。

暴力的堆栈成像
当前的手机感光器都具有高带宽高速度的技术特点，大部分型号可以轻松达到20FPS-30FPS的全像素连拍能力，甚至更高，这背后的技术支持是足够的的数据带宽以及强大的图像处理器。

![Microsoft 微软 Lumia 950XL 智能手机-实拍-全尺寸原图-野渡无人舟自横](https://images.soomal.cc/images/doc/20170606/00068274.webp)

制造商=MICROSOFT;型号=LUMIA 950 XL;焦距=0毫米;等效焦距=0毫米;光圈=F1.9;测光模式=平均;感光度=ISO50;白平衡=手动;曝光补偿=0.0EV;曝光时间=549/1000000秒;场景类型=标准;日期=2016.05.16 14:42:33;镜头=手动


手机感光器单个像素单元尺寸很小，采样质量不高，但可以通过多次采样来提升质量。一次采样不够，那就采集4次？甚至更多。通过堆栈图像提升成像质量。它可以通过对齐、对比像素差别排异等方法提升细节保留量。Google Pixel、微软Lumia 950XL以及iPhone等机型都可能使用了这种成像方法。

![多帧筛选噪点示意](https://images.soomal.cc/images/doc/20141122/00047550.webp)




堆栈成像是多帧的一种，但并不是多帧的全部，多帧不一定是堆栈。大家熟知的多帧降噪，是堆栈成像的一种。

高像素
高像素就是王道，这是放之四海而皆准的真理，前提是不凑数。高像素有什么好处？诺基亚早已指明了道路，就是超采样。4个像素当一个像素用，自然一颗赛艇，这是硬件层面的超采样。堆栈成像也可以视为一种超采样的方法，这是软件层面的。超采样带来的细节是明显提升的，诺基亚808并不是为了实现4000万像素这个数量，而是为了实现更好的800万像素的成像，808的4000万像素在100%展示时并不会比普通手机好多少。现在的手机感光器像素止步于2000W左右，作为硬件超采样还不够多。

还有一种理论上可以实现的硬件超采样的方法就是双摄像头，目前难以解决的是视差问题，一旦实现，比单摄像头有明显优势是可能的。但目前，画质最好的手机都是单摄像头设计的。这也说明双摄超采样存在理论和现实的差距。

大像素单元
经常看到手机厂商提多少微米的大像素。说的是大面积的像素单元，简单的道理，越大越好。其中HTC爱说的UltraPixel，最大可达4微米，然而，UltraPixel在同时期的成像质量对比中，并没优势。大像素单元意味着像素密度的下降，它是双刃剑，像素密度与光学解像度是有一定正相关关系的，低分辨率一样会导致细节不够。又是大像素单元又是高分辨率感光器有没有，当然有，就是大底们了。

镜头
手机摄像头镜头体积很小，结构简单，量产规模大，所以可以做到降低成本，且保持良好的光学素质。手机镜头镜片很小，可以使用一些相对昂贵的镀层，大部分手机的抗眩光能力其实不比中高端单反镜头差，而解像度也保持了非常高的水平，这么小的镜头要完成几千万像素的成像，不好是不行的。这些年成像技术的进步，与镜头光学素质的提升紧密相关。至于LEICA蔡司G头什么的，只是个标，这些品牌对手机镜头的技术研发参与度其实不高。

镜头矫正
使用传统的前照式感光器，是很难使用大光圈镜头的。随着堆栈式的普及以及机内处理水准的提升，使用大光圈镜头也不会出现明显的暗角。因为新型的感光器对于斜射光更加友好，所以手机也在使用更大的广角，在数年前26毫米的等效焦距还是稀罕物，现在成为很多主流机型的选择。

这背后是机内处理的功劳。机内处理包括畸变矫正、色散矫正、去暗角等。这些机内后期理论上都会引起像素重排导致画质下降，但新算法把画质影响降低到了很低的程度。现在的手机拍照，枕形失真球形失真都不再明显，紫边绿边很少见了，而边缘画质有了显著的进步。对比最近2年和以前的样张，能明显的看出这种巨大差异。

细节表现的进步是技术综合的体现
细节表现的进步是技术综合的体现，不能简单的说，因为用了LEICA镜头所以好，也不能说我堆栈了因此我牛，或者我大像素单元，SO成像杠杠的。进步依靠累积，它基于硬件软件技术的综合改善，我们看到手机样张时，如果能对其后的技术有所了解，将会更容易明白所以然，而不会被例如德味这样的洗脑，国产手机在摄像头硬件上不落后，但软件则明显落后，这也是与优秀品牌差距所在。在后续的文章中，我们会有针对样张的实例讲解。